<dc-loading-table [loadingTable]=loading [tableTitle]=tableTitle (refreshData)='getTickets()'>
	<div class="container-fluid">
	  <div class="row">
	    <div class="col-md-12">
	      <mat-form-field>
	        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
	      </mat-form-field>
	      
	      <mat-table [trackBy]='trackTableBy' [dataSource]="dataSource" matSort class="mat-elevation-z8" dcCopyInputBubble>
	      
	        <ng-container matColumnDef="key">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Key </mat-header-cell>
	          <mat-cell *matCellDef="let ticket">
							<i class="material-icons pointer copy-input-dir copy-key" title="Copy Jira key to clipboard">note</i>
							<span class='hidden'>{{env.jiraUrl}}/browse/{{ticket.key}}</span>
							
							<i class="material-icons pointer copy-input-dir copy-jira" title="Copy Jira link to clipboard">note</i>
							<a target="_blank" href="{{env.jiraUrl}}/browse/{{ticket.key}}" title='Open in Jira' dcInputToCopy>
								{{ticket.key}}
							</a>
						</mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="msrp">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> MSRP </mat-header-cell>
	          <mat-cell *matCellDef="let ticket">
							<i class="material-icons pointer copy-input-dir copy-msrp" title="Copy Jira key to clipboard">note</i>
							<span>{{ticket.msrp}}</span>
						</mat-cell>
	        </ng-container>

	        <ng-container matColumnDef="actions">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Actions </mat-header-cell>
	          <mat-cell *matCellDef="let ticket">
	            <dc-actions [selectorTicket]=ticket.selectorTicket></dc-actions>
	          </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="summary">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Summary </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.summary}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="status">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.status}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="StartDate">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Start Date </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.dates.started | amDateFormat:'LL'}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="DueDate">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Due Date </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.dates.duedate | amDateFormat:'LL'}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Estimate">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Estimate </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.dates.estimate}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Logged">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Logged </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.dates.logged}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Last Update">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Last Update </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.dates.updated | amDateFormat:'LL'}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Created">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Created </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> {{ticket.dates.created | amDateFormat:'LL'}} </mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Pull Requests">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Pull Requests </mat-header-cell>
	          <mat-cell *matCellDef="let ticket">
							<dc-pull-requests [selectorTicket]=ticket.selectorTicket></dc-pull-requests>
						</mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Assignee">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Assignee </mat-header-cell>
	          <mat-cell *matCellDef="let ticket">
							<dc-user-details [selectorTicket]=ticket.selectorTicket></dc-user-details>
						</mat-cell>
	        </ng-container>
	      
	        <ng-container matColumnDef="Customer">
	          <mat-header-cell *matHeaderCellDef mat-sort-header> Customer </mat-header-cell>
	          <mat-cell *matCellDef="let ticket"> 
							<dc-user-details [isCustomer]=true [selectorTicket]=ticket.selectorTicket></dc-user-details></mat-cell>
	        </ng-container>

	        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
	        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>


	      </mat-table>

	      <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
	    </div>
	  </div>
	</div>
</dc-loading-table>